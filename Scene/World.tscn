[gd_scene load_steps=14 format=2]

[ext_resource path="res://Prefabs/Switch.tscn" type="PackedScene" id=1]
[ext_resource path="res://Prefabs/PlatformFall.tscn" type="PackedScene" id=2]
[ext_resource path="res://IndustrialTileMap.tres" type="TileSet" id=3]
[ext_resource path="res://assets/editor/no_light.png" type="Texture" id=4]
[ext_resource path="res://Prefabs/HideIngame.gd" type="Script" id=5]
[ext_resource path="res://Prefabs/Player.tscn" type="PackedScene" id=6]
[ext_resource path="res://assets/BIG_CIRCLE.png" type="Texture" id=7]
[ext_resource path="res://Scripts/EditorVisable.gd" type="Script" id=8]
[ext_resource path="res://Scripts/MonsterSpawner.gd" type="Script" id=9]
[ext_resource path="res://Prefabs/ScoreBall.tscn" type="PackedScene" id=10]

[sub_resource type="OccluderPolygon2D" id=1]
polygon = PoolVector2Array( 0, 0, 16, 0, 16, 16, 0, 16 )

[sub_resource type="OccluderPolygon2D" id=2]
polygon = PoolVector2Array( 0, 0, 1, 0, 1, 16, 0, 16 )

[sub_resource type="TileSet" id=3]
0/name = "no_light.png 0"
0/texture = ExtResource( 4 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( 0, 0, 16, 16 )
0/tile_mode = 0
0/occluder_offset = Vector2( 0, 0 )
0/occluder = SubResource( 1 )
0/navigation_offset = Vector2( 0, 0 )
0/shapes = [  ]
0/z_index = 0
1/name = "no_light.png 1"
1/texture = ExtResource( 4 )
1/tex_offset = Vector2( 0, 0 )
1/modulate = Color( 1, 1, 1, 1 )
1/region = Rect2( 7, 0, 1, 16 )
1/tile_mode = 0
1/occluder_offset = Vector2( 0, 0 )
1/occluder = SubResource( 2 )
1/navigation_offset = Vector2( 0, 0 )
1/shapes = [  ]
1/z_index = 0

[node name="Scene1" type="Node2D"]

[node name="TileMaps" type="Node2D" parent="."]
position = Vector2( 80, 0 )

[node name="AirLock1" type="Node2D" parent="TileMaps"]
editor/display_folded = true
position = Vector2( -80, 0 )

[node name="Switch" parent="TileMaps/AirLock1" instance=ExtResource( 1 )]
position = Vector2( 352, -184.408 )
rotation = -1.57079
one_switch = true

[node name="Platform" parent="TileMaps/AirLock1" instance=ExtResource( 2 )]
position = Vector2( 304, -176 )

[node name="Platform3" parent="TileMaps/AirLock1" instance=ExtResource( 2 )]
position = Vector2( 304, -16 )

[node name="Platform2" parent="TileMaps/AirLock1" instance=ExtResource( 2 )]
position = Vector2( 256, -176 )
start_raised = false

[node name="Background" type="TileMap" parent="TileMaps"]
tile_set = ExtResource( 3 )
cell_size = Vector2( 16, 16 )
collision_layer = 8
collision_mask = 3
format = 1
tile_data = PoolIntArray( -720881, 0, 0, -720880, 0, 1, 65563, 536870913, 0, 65567, 536870913, 0, 65568, 536870913, 0, 65574, 536870913, 0, 65575, 536870913, 0, 65583, 536870913, 0, 65586, 536870913, 0, 65587, 536870913, 0, 65588, 536870913, 0, 65589, 536870913, 0, 65590, 536870913, 0, 65591, 536870913, 0, 65611, 536870913, 0, 65612, 536870913, 0, 65613, 536870913, 0, 65614, 536870913, 0, 65615, 536870913, 0, 65616, 536870913, 0, 65617, 536870913, 0, 65618, 536870913, 0, 131085, 4, 262147, 131099, 536870913, 0, 131100, 536870913, 0, 131101, 536870913, 0, 131102, 536870913, 0, 131104, 536870913, 0, 131105, 536870913, 0, 131108, 536870913, 0, 131109, 536870913, 0, 131112, 536870913, 0, 131113, 536870913, 0, 131116, 536870913, 0, 131117, 536870913, 0, 131118, 536870913, 0, 131120, 536870913, 0, 131121, 536870913, 0, 131128, 536870913, 0, 131129, 536870913, 0, 131130, 536870913, 0, 131131, 536870913, 0, 131132, 536870913, 0, 131133, 536870913, 0, 131134, 536870913, 0, 131135, 536870913, 0, 131136, 536870913, 0, 131137, 536870913, 0, 131138, 536870913, 0, 131139, 536870913, 0, 131140, 536870913, 0, 131141, 536870913, 0, 131142, 536870913, 0, 131146, 536870913, 0, 196616, 9, 0, 196617, 9, 1, 196621, 4, 262147, 196641, 536870913, 0, 196642, 536870913, 0, 196643, 536870913, 0, 196644, 536870913, 0, 196649, 536870913, 0, 196650, 536870913, 0, 196651, 536870913, 0, 196678, 536870913, 0, 196681, 536870913, 0, 262152, 9, 65536, 262153, 9, 65537, 262157, 4, 196612, 262217, 536870913, 0, 327688, 4, 131073, 327689, 4, 131073, 327690, 4, 2, 327691, 4, 4, 327692, 4, 196613, 327693, 4, 5, 393224, 4, 196609, 393225, 4, 196609, 393226, 4, 131072, 393227, 4, 65540, 393229, -2147483644, 131074 )

[node name="TileMap" type="TileMap" parent="TileMaps"]
tile_set = ExtResource( 3 )
cell_size = Vector2( 16, 16 )
collision_layer = 8
collision_mask = 7
format = 1
tile_data = PoolIntArray( -917499, 0, 0, -917498, 0, 0, -917497, 0, 0, -917496, 0, 0, -917495, 0, 0, -917494, 0, 0, -917493, 0, 0, -917492, 0, 0, -917491, 0, 0, -917490, 0, 0, -917489, 0, 0, -917488, 0, 0, -917487, 0, 0, -851963, 0, 0, -851951, 0, 0, -786427, 0, 0, -786415, 0, 0, -720891, 0, 0, -720890, 0, 0, -720889, 0, 0, -720888, 0, 0, -720887, 0, 0, -720886, 0, 0, -720884, 0, 0, -720883, 0, 0, -655351, 0, 0, -655348, 0, 0, -655347, -1610612736, 1, -655345, -1073741824, 0, -524293, 0, 0, -524292, 0, 0, -524291, 0, 0, -524290, 0, 0, -524289, 0, 0, -589824, 0, 0, -589823, 0, 0, -589822, 0, 0, -589821, 0, 0, -589820, 0, 0, -589819, 0, 0, -589818, 0, 0, -589817, 0, 0, -589816, 0, 0, -589815, 0, 0, -589813, 0, 0, -589811, -1610612736, 1, -589809, -1073741824, 0, -458757, 0, 0, -524277, 0, 0, -524275, -1610612736, 1, -524273, -1073741824, 0, -393221, 0, 0, -458742, 536870912, 0, -458741, 0, 0, -458739, -1610612736, 1, -458737, -1073741824, 0, -327685, 0, 0, -393206, 0, 0, -393203, -1610612736, 1, -393201, -1073741824, 0, -262149, 0, 0, -327670, 0, 0, -327669, 1073741824, 0, -327668, 1073741824, 0, -327667, -1610612736, 1, -327665, -1073741824, 0, -327664, 1073741824, 0, -327663, 1073741824, 0, -327662, 1073741824, 0, -196613, 0, 3, -262140, 0, 0, -262139, 0, 0, -262138, 0, 0, -262136, 0, 0, -262135, 0, 0, -262134, 0, 0, -262131, -1610612736, 1, -262129, -1073741824, 0, -131077, 0, 3, -196605, 0, 0, -196602, 536870912, 0, -196600, 536870912, 0, -65541, 0, 0, -65540, 0, 1, -65539, 0, 1, -65538, 0, 1, -65537, 0, 1, -131072, 0, 1, -131071, 0, 1, -131070, 0, 1, -131069, 0, 1, -131066, 536870912, 0, -65530, 536870912, 0, -65529, 536870912, 0, -65528, 536870912, 0, -65527, 536870912, 0, -65526, 536870912, 0, -65525, 536870912, 0, -65524, 536870912, 0, -65523, 536870912, 0, -65521, -1073741824, 0, -65520, 536870912, 0, 13, -1610612736, 1, 15, -1073741824, 0, 65549, -1610612736, 1, 65551, -1073741824, 0, 131080, 1610612736, 0, 131081, 1610612736, 0, 131082, 1610612736, 0, 131083, 1610612736, 0, 131084, 1610612736, 0, 131088, -1073741824, 0, 196615, -1610612736, 0, 262151, -1610612736, 0, 327687, -1610612736, 0, 393223, -1610612736, 0, 458759, -1610612736, 0, 458766, 536870912, 0, 524293, 0, 0, 524294, 0, 0, 524295, 0, 0, 524296, 0, 0, 524297, 0, 0, 524298, 0, 0, 524299, 0, 0, 524300, 0, 0, 524304, 0, 0, 524305, 0, 0, 524306, 0, 0, 524307, 0, 0, 524308, 0, 0, 524309, 0, 0, 524310, 0, 0, 524311, 0, 0, 524312, 0, 0, 524313, 0, 0, 524314, 536870912, 0, 524315, 536870912, 0, 524316, 536870912, 0, 524317, 536870912, 0, 524318, 536870912, 0, 524319, 536870912, 0, 524320, 536870912, 0, 524321, 536870912, 0, 524322, 536870912, 0, 524323, 536870912, 0, 524324, 536870912, 0, 524325, 536870912, 0, 524326, 536870912, 0, 524327, 536870912, 0, 524328, 536870912, 0, 524329, 536870912, 0, 524330, 536870912, 0, 524331, 536870912, 0, 524332, 536870912, 0, 524333, 536870912, 0, 524334, 536870912, 0, 524335, 536870912, 0, 524336, 536870912, 0, 524337, 536870912, 0, 524338, 536870912, 0, 524339, 536870912, 0, 524340, 536870912, 0, 524341, 536870912, 0, 524342, 536870912, 0, 524343, 536870912, 0, 524344, 536870912, 0, 524345, 536870912, 0, 524346, 536870912, 0, 524347, 536870912, 0, 524348, 536870912, 0, 524349, 536870912, 0, 524350, 536870912, 0, 524351, 536870912, 0, 524352, 536870912, 0, 524353, 536870912, 0, 524354, 536870912, 0, 524355, 536870912, 0, 524356, 536870912, 0, 524357, 536870912, 0, 524358, 536870912, 0, 524359, 536870912, 0, 524360, 536870912, 0, 589836, -1610612736, 1, 589840, -1073741824, 0, 589895, 536870912, 0, 589896, 536870912, 0, 589897, 536870912, 0, 589898, 536870912, 0, 589899, 536870912, 0, 589900, 536870912, 0, 589901, 536870912, 0, 589902, 536870912, 0, 589903, 536870912, 0, 589904, 536870912, 0, 589905, 536870912, 0, 589906, 536870912, 0, 589907, 536870912, 0, 589908, 536870912, 0, 655373, -1610612736, 1, 655375, -1073741824, 0, 720909, -1610612736, 1, 720911, -1073741824, 0, 786445, -1610612736, 1, 786447, -1073741824, 0, 851981, -1610612736, 1, 851983, -1073741824, 0, 917517, -1610612736, 0, 917519, -1073741824, 0, 983053, -1610612736, 0, 983055, -1073741824, 0, 1048589, -1610612736, 0, 1048591, -1073741824, 0, 1114125, -1610612736, 0, 1114127, -1073741824, 0, 1179661, -1610612736, 0, 1179663, -1073741824, 0, 1245193, 0, 0, 1245194, 0, 0, 1245195, 0, 0, 1245196, 1610612736, 0, 1245197, -1610612736, 0, 1245199, -1073741824, 0, 1245200, 1610612736, 0, 1245201, 0, 0, 1245202, 0, 0, 1245203, 0, 0, 1310729, 0, 0, 1310739, 0, 0, 1376265, 0, 0, 1376275, 0, 0, 1441801, 0, 0, 1441811, 0, 0, 1507337, 0, 0, 1507347, 0, 0, 1572873, 0, 0, 1572883, 0, 0, 1638409, 0, 0, 1638419, 0, 0, 1703945, 0, 0, 1703950, 1610612736, 0, 1703955, 0, 0, 1769481, 0, 0, 1769491, 0, 0, 1835017, 0, 0, 1835027, 0, 0, 1900553, 0, 0, 1900554, 1610612736, 0, 1900555, 1610612736, 0, 1900556, 1610612736, 0, 1900557, 1610612736, 0, 1900558, 1610612736, 0, 1900559, 1610612736, 0, 1900560, 1610612736, 0, 1900561, 1610612736, 0, 1900562, 1610612736, 0, 1900563, 0, 0 )

[node name="LightOccluder" type="TileMap" parent="TileMaps"]
modulate = Color( 1, 1, 1, 0.419608 )
tile_set = SubResource( 3 )
cell_size = Vector2( 16, 16 )
format = 1
tile_data = PoolIntArray( -983036, 536870912, 0, -983035, 0, 0, -983034, 0, 0, -983033, 0, 0, -983032, 0, 0, -983031, 0, 0, -983030, 0, 0, -983029, 0, 0, -983028, 0, 0, -983027, 0, 0, -983026, 0, 0, -983025, 0, 0, -983024, 0, 0, -983023, 0, 0, -983022, 0, 0, -917500, 536870912, 0, -917495, 1, 0, -917486, 0, 0, -851964, 536870912, 0, -851959, 1, 0, -851950, 0, 0, -786428, 536870912, 0, -786423, 1, 0, -786414, 0, 0, -720892, 536870912, 0, -720887, 1, 0, -720879, 0, 0, -720878, 0, 0, -589830, 0, 0, -589829, 0, 0, -589828, 0, 0, -589827, 0, 0, -589826, 0, 0, -589825, 0, 0, -655360, 0, 0, -655359, 0, 0, -655358, 0, 0, -655357, 0, 0, -655356, 536870912, 0, -655355, 536870912, 0, -655354, 536870912, 0, -655353, 536870912, 0, -655352, 536870912, 0, -655351, 536870913, 0, -655344, 0, 0, -655343, 0, 0, -524294, 0, 0, -589812, 536870912, 0, -589811, -2147483647, 0, -589810, -2147483647, 0, -589809, -2147483647, 0, -589808, 536870912, 0, -458758, 0, 0, -524276, 536870912, 0, -524272, 536870912, 0, -393222, 0, 0, -458740, 536870912, 0, -458736, 536870912, 0, -327686, 0, 0, -393205, 536870912, 0, -393204, 536870912, 0, -393200, 536870912, 0, -393199, 536870912, 0, -393198, 536870912, 0, -262150, 0, 0, -196614, 0, 0, -131078, 0, 0, -196604, 0, 0, -196603, 0, 0, -65542, 0, 0, -131068, 0, 0, -6, 0, 0, -5, 0, 0, -4, 0, 0, -3, 0, 0, -2, 0, 0, -1, 0, 0, -65536, 0, 0, -65535, 0, 0, -65534, 0, 0, -65533, 0, 0, -65532, 0, 0, 6, 536870912, 0, 7, 536870912, 0, 8, 536870912, 0, 9, 536870912, 0, 10, 536870912, 0, 11, 536870912, 0, 12, 536870912, 0, 16, 1610612736, 0, 65544, 536870912, 0, 65545, 536870912, 0, 65546, 536870912, 0, 65547, 536870912, 0, 65548, 536870912, 0, 65549, -2147483647, 0, 65550, -2147483647, 0, 65551, -2147483647, 0, 65552, 1610612736, 0, 589828, 1610612736, 0, 589829, 1610612736, 0, 589830, 1610612736, 0, 589831, 1610612736, 0, 589832, 1610612736, 0, 589833, 1610612736, 0, 589834, 1610612736, 0, 589835, 1610612736, 0, 589841, 1610612736, 0, 589842, 1610612736, 0, 589843, 1610612736, 0, 589844, 1610612736, 0, 589845, 1610612736, 0, 589846, 1610612736, 0, 589847, 1610612736, 0, 589848, 1610612736, 0, 589849, 1610612736, 0, 655371, 1610612736, 0, 655372, 1610612736, 0, 655376, 1610612736, 0, 655377, 1610612736, 0, 655378, 1610612736, 0, 720908, 1610612736, 0, 720912, 1610612736, 0, 786444, 1610612736, 0, 786448, 1610612736, 0, 851980, 1610612736, 0, 851984, 1610612736, 0, 917516, 1610612736, 0, 917520, 1610612736, 0 )
script = ExtResource( 5 )

[node name="StartSwitch" type="Node2D" parent="TileMaps"]

[node name="Switch" parent="TileMaps/StartSwitch" instance=ExtResource( 1 )]
position = Vector2( 151.361, -64 )
one_switch = true

[node name="Platform" parent="TileMaps/StartSwitch" instance=ExtResource( 2 )]
position = Vector2( 112, -64 )

[node name="Player" parent="." instance=ExtResource( 6 )]
position = Vector2( 64, -41.0363 )
friction = 20.0

[node name="LightOccluder" type="Light2D" parent="Player"]
position = Vector2( 0, 0.677795 )
enabled = false
texture = ExtResource( 7 )
mode = 3
shadow_enabled = true
shadow_buffer_size = 2047
script = ExtResource( 8 )

[node name="Camera2D" type="Camera2D" parent="Player"]
scale = Vector2( 1, 0.984399 )
current = true
zoom = Vector2( 0.3, 0.3 )
limit_left = 0
smoothing_enabled = true
smoothing_speed = 10.0
offset_v = 0.09
drag_margin_left = 0.03
drag_margin_top = 0.1
drag_margin_right = 0.03
drag_margin_bottom = 0.08
editor_draw_drag_margin = true

[node name="MonsterSpawner" type="Position2D" parent="."]
position = Vector2( 192, -187.9 )
script = ExtResource( 9 )

[node name="ScoreBall" parent="." instance=ExtResource( 10 )]
position = Vector2( 192, -192 )
scale = Vector2( 0.51251, 0.51251 )
[connection signal="toggled_switch" from="TileMaps/AirLock1/Switch" to="MonsterSpawner" method="spawn_monster"]
[connection signal="toggled_switch" from="TileMaps/AirLock1/Switch" to="TileMaps/AirLock1/Platform3" method="toggle"]
[connection signal="toggled_switch" from="TileMaps/AirLock1/Switch" to="TileMaps/AirLock1/Platform" method="toggle"]
[connection signal="toggled_switch" from="TileMaps/AirLock1/Switch" to="TileMaps/AirLock1/Platform2" method="toggle"]
[connection signal="toggled_switch" from="TileMaps/StartSwitch/Switch" to="TileMaps/StartSwitch/Platform" method="toggle"]
