[gd_scene load_steps=14 format=2]

[ext_resource path="res://IndustrialTileMap.tres" type="TileSet" id=1]
[ext_resource path="res://Prefabs/detectors/CameraDetector.tscn" type="PackedScene" id=2]
[ext_resource path="res://Prefabs/Spike.tscn" type="PackedScene" id=3]
[ext_resource path="res://Prefabs/PlatformFall.tscn" type="PackedScene" id=4]
[ext_resource path="res://CameraDetector.gd" type="Script" id=5]
[ext_resource path="res://Prefabs/Spring.tscn" type="PackedScene" id=6]
[ext_resource path="res://Prefabs/Switch.tscn" type="PackedScene" id=7]
[ext_resource path="res://Prefabs/SlimeEnemy.tscn" type="PackedScene" id=8]
[ext_resource path="res://Prefabs/spawners/MonsterSpawner.tscn" type="PackedScene" id=9]
[ext_resource path="res://Prefabs/ScoreBall.tscn" type="PackedScene" id=10]
[ext_resource path="res://Prefabs/spawners/PlayerSpawner.tscn" type="PackedScene" id=11]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 184, 120 )

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 296, 104 )

[node name="Game" type="Node"]

[node name="GameContent" type="Node2D" parent="."]

[node name="TileMap" type="TileMap" parent="GameContent"]
tile_set = ExtResource( 1 )
cell_size = Vector2( 16, 16 )
collision_layer = 72
format = 1
tile_data = PoolIntArray( -2162663, 0, 0, -2097128, 0, 0, -2097126, 0, 0, -2031592, 0, 0, -2031590, 0, 0, -2031589, 0, 0, -2031588, 0, 0, -2031587, 0, 0, -2031586, 0, 0, -2031585, 0, 0, -2031562, 0, 0, -2031561, 0, 0, -2031560, 0, 0, -2031559, 0, 0, -2031558, 0, 0, -2031557, 0, 0, -1966056, 0, 0, -1966049, 0, 0, -1966027, 0, 0, -1900520, 0, 0, -1900513, 0, 0, -1900491, 0, 0, -1835004, 0, 0, -1834985, 0, 0, -1834977, 0, 0, -1834955, 0, 0, -1769469, 0, 0, -1769467, 0, 0, -1769450, 0, 0, -1769441, 0, 0, -1769420, 0, 0, -1703936, 0, 0, -1703935, 0, 0, -1703934, 0, 0, -1703933, 0, 0, -1703931, 0, 0, -1703930, 0, 0, -1703929, 0, 0, -1703928, 0, 0, -1703927, 0, 0, -1703926, 0, 0, -1703925, 0, 0, -1703924, 0, 0, -1703923, 0, 0, -1703922, 0, 0, -1703921, 0, 0, -1703920, 0, 0, -1703919, 0, 0, -1703918, 0, 0, -1703917, 0, 0, -1703916, 0, 0, -1703915, 0, 0, -1703914, 0, 0, -1703904, 0, 0, -1703884, 0, 0, -1638400, 0, 0, -1638395, 0, 0, -1638384, 0, 0, -1638380, 0, 0, -1638376, 0, 0, -1638367, 0, 0, -1638349, 0, 0, -1572864, 0, 0, -1572862, 0, 0, -1572861, 0, 0, -1572860, 0, 0, -1572848, 0, 0, -1572844, 0, 0, -1572840, 0, 0, -1572830, 0, 0, -1572829, 0, 0, -1572828, 0, 0, -1572827, 0, 0, -1572826, 0, 0, -1572825, 0, 0, -1572824, 0, 0, -1572823, 0, 0, -1572822, 0, 0, -1572821, 0, 0, -1572820, 0, 0, -1572819, 0, 0, -1572818, 0, 0, -1572817, 0, 0, -1572816, 0, 0, -1572815, 0, 0, -1572814, 0, 0, -1572806, 0, 0, -1572805, 0, 0, -1507328, 0, 0, -1507327, 0, 0, -1507311, 0, 0, -1507309, 0, 0, -1507304, 0, 0, -1507270, 0, 0, -1441792, 0, 0, -1441770, 0, 0, -1441769, 0, 0, -1441768, 0, 0, -1441767, 0, 0, -1441766, 0, 0, -1441765, 0, 0, -1441764, 0, 0, -1441763, 0, 0, -1441762, 0, 0, -1441761, 0, 0, -1441760, 0, 0, -1441759, 0, 0, -1441758, 0, 0, -1441757, 0, 0, -1441756, 0, 0, -1441755, 0, 0, -1441754, 0, 0, -1441753, 0, 0, -1441752, 0, 0, -1441751, 0, 0, -1441750, 0, 0, -1441749, 0, 0, -1441748, 0, 0, -1441747, 0, 0, -1441746, 0, 0, -1441745, 0, 0, -1441744, 0, 0, -1441743, 0, 0, -1441742, 0, 0, -1441741, 0, 0, -1441740, 0, 0, -1441739, 0, 0, -1441738, 0, 0, -1441737, 0, 0, -1441736, 0, 0, -1441734, 0, 0, -1376256, 0, 0, -1376235, 0, 0, -1376234, 0, 0, -1376200, 0, 0, -1376198, 0, 0, -1310720, 0, 0, -1310700, 0, 0, -1310698, 0, 0, -1310664, 0, 0, -1310662, 0, 0, -1245184, 0, 0, -1245167, 0, 0, -1245166, 0, 0, -1245165, 0, 0, -1245162, 0, 0, -1245128, 0, 0, -1245126, 0, 0, -1179648, 0, 0, -1179631, 0, 0, -1179626, 0, 0, -1179592, 0, 0, -1179591, 0, 0, -1179590, 0, 0, -1114112, -1610612736, 1, -1114095, 0, 0, -1114090, 0, 0, -1048576, -1610612736, 1, -1048572, 0, 0, -1048571, 0, 0, -1048559, 0, 0, -1048554, 0, 0, -983040, -1610612736, 1, -983036, 0, 0, -983035, 0, 0, -983023, 0, 0, -983018, 0, 0, -983017, 0, 0, -983016, 0, 0, -983015, 0, 0, -983014, 0, 0, -983013, 0, 0, -983012, 0, 0, -983011, 0, 0, -983010, 0, 0, -983009, 0, 0, -983008, 0, 0, -983007, 0, 0, -983006, 0, 0, -983005, 0, 0, -983004, 0, 0, -983003, 0, 0, -983002, 0, 0, -983001, 0, 0, -983000, 0, 0, -982999, 0, 0, -982998, 0, 0, -982997, 0, 0, -982996, 0, 0, -982995, 0, 0, -917504, 0, 0, -917502, 0, 0, -917501, 0, 0, -917500, 0, 0, -917499, 0, 0, -917498, 0, 0, -917497, 0, 0, -917496, 0, 0, -917495, 0, 0, -917494, 0, 0, -917493, 0, 0, -917492, 0, 0, -917491, 0, 0, -917490, 0, 0, -917489, 0, 0, -917488, 0, 0, -917487, 0, 0, -917459, 0, 0, -851968, 0, 0, -851951, 0, 0, -851949, 0, 0, -851948, 0, 0, -851947, 0, 0, -851946, 0, 0, -851945, 0, 0, -851944, 0, 0, -851923, 0, 1, -786432, 0, 0, -786415, 0, 0, -786413, 0, 0, -786408, 0, 0, -786387, 0, 1, -720896, 0, 0, -720895, 0, 0, -720894, 0, 0, -720892, 0, 0, -720891, 0, 0, -720890, 0, 0, -720889, 0, 0, -720888, 0, 0, -720887, 0, 0, -720886, 0, 0, -720885, 0, 0, -720884, 0, 0, -720883, 0, 0, -720882, 0, 0, -720881, 0, 0, -720879, 0, 0, -720877, 0, 0, -720872, 0, 0, -720851, 0, 1, -655360, 0, 0, -655359, 0, 0, -655345, 0, 0, -655343, 0, 0, -655341, 0, 0, -655336, 0, 0, -655335, 0, 0, -655334, 0, 0, -655328, 0, 0, -655327, 0, 0, -655326, 0, 0, -655325, 0, 0, -655315, 0, 1, -589824, 0, 0, -589809, 0, 0, -589805, 0, 0, -589784, 0, 0, -589783, 0, 0, -589782, 0, 0, -589781, 0, 0, -589779, 0, 1, -524288, 0, 0, -524273, 0, 0, -524272, 0, 0, -524271, 0, 0, -524270, 0, 0, -524269, 0, 0, -524243, 0, 1, -458752, 0, 0, -458751, 0, 0, -458707, 0, 1, -393216, 0, 0, -393173, 0, 1, -393172, 0, 1, -393171, 0, 1, -327680, 0, 0, -327637, 0, 1, -262144, 0, 0, -262143, 0, 0, -262101, 0, 1, -196608, 0, 0, -196577, 0, 1, -196576, 0, 1, -196575, 0, 1, -196574, 0, 1, -196569, 0, 1, -196568, 0, 1, -196567, 0, 1, -196566, 0, 1, -196565, 0, 1, -131072, 0, 0, -131041, 0, 1, -131038, 0, 1, -131033, 0, 1, -65536, 0, 0, -65535, 0, 1, -65534, 0, 1, -65533, 0, 1, -65532, 0, 1, -65531, 0, 1, -65530, 0, 1, -65529, 0, 1, -65528, 0, 1, -65527, 0, 1, -65526, 0, 1, -65525, 0, 1, -65524, 0, 1, -65523, 0, 1, -65522, 0, 1, -65521, 0, 1, -65519, 0, 1, -65518, 0, 1, -65517, 0, 1, -65516, 0, 1, -65515, 0, 1, -65514, 0, 1, -65513, 0, 1, -65512, 0, 1, -65511, 0, 3, -65508, 0, 0, -65507, 0, 1, -65506, 0, 1, -65505, 0, 1, -65502, 0, 1, -65497, 0, 1, 16, 0, 0, 26, 0, 1, 27, 0, 1, 34, 0, 1, 35, 0, 1, 36, 0, 1, 37, 0, 1, 38, 0, 1 )

[node name="Level1" type="Node2D" parent="GameContent"]

[node name="CameraDetector" parent="GameContent/Level1" instance=ExtResource( 2 )]
modulate = Color( 1, 0.298039, 0.298039, 0.32549 )
self_modulate = Color( 1, 1, 1, 0.0470588 )
position = Vector2( 184, -104 )

[node name="Prefabs" type="Node2D" parent="GameContent/Level1"]

[node name="Spike6" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 24, -16 )

[node name="Spike13" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 40, -16 )

[node name="Spike14" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 56, -16 )

[node name="Spike15" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 72, -16 )

[node name="Spike20" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 120, -176 )

[node name="Spike16" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 88, -16 )

[node name="Spike17" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 104, -16 )

[node name="Spike18" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 120, -16 )

[node name="Spike19" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 136, -16 )

[node name="Spike10" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 256, -1.52588e-005 )

[node name="Spike2" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 16, -80 )
rotation = 1.57079

[node name="Spike11" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 16, -48 )
rotation = 1.57079

[node name="Spike12" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 16, -32 )
rotation = 1.57079

[node name="Spike3" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 16, -96 )
rotation = 1.57079

[node name="Spike4" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 16, -128 )
rotation = 1.57079

[node name="Spike5" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 16, -144 )
rotation = 1.57079

[node name="Spike7" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 32, -64 )
rotation = 1.57079

[node name="Spike8" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 32, -112 )
rotation = 1.57079

[node name="Spike9" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 32, -160 )
rotation = 1.57079

[node name="Spike21" parent="GameContent/Level1/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 64, -160 )
rotation = -1.57079

[node name="Platform" parent="GameContent/Level1/Prefabs" instance=ExtResource( 4 )]
position = Vector2( 256, -176 )

[node name="Platform3" parent="GameContent/Level1/Prefabs" instance=ExtResource( 4 )]
position = Vector2( 48, -160 )

[node name="Level2" type="Node2D" parent="GameContent"]
editor/display_folded = true

[node name="CameraDetector" type="Area2D" parent="GameContent/Level2"]
position = Vector2( 552, -120 )
collision_layer = 0
collision_mask = 256
script = ExtResource( 5 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="GameContent/Level2/CameraDetector"]
shape = SubResource( 1 )

[node name="Prefabs" type="Node2D" parent="GameContent/Level2"]

[node name="Spring" parent="GameContent/Level2/Prefabs" instance=ExtResource( 6 )]
position = Vector2( 704, -80 )
power = 400.0

[node name="Spike" parent="GameContent/Level2/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 416, 0 )

[node name="Spike2" parent="GameContent/Level2/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 432, 0 )

[node name="Spike3" parent="GameContent/Level2/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 560, 0 )

[node name="Spike4" parent="GameContent/Level2/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 576, 0 )

[node name="Spike5" parent="GameContent/Level2/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 592, 0 )

[node name="Spike6" parent="GameContent/Level2/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 608, 0 )

[node name="Level3" type="Node2D" parent="GameContent"]

[node name="CameraDetector" parent="GameContent/Level3" instance=ExtResource( 2 )]
modulate = Color( 0.866667, 0.866667, 0.866667, 0.32549 )
self_modulate = Color( 1, 1, 1, 0.0470588 )
position = Vector2( 184, -312 )

[node name="Prefabs" type="Node2D" parent="GameContent/Level3"]

[node name="Switch" parent="GameContent/Level3/Prefabs" instance=ExtResource( 7 )]
position = Vector2( 120, -224 )
one_switch = true

[node name="Platform" parent="GameContent/Level3/Prefabs" instance=ExtResource( 4 )]
position = Vector2( 256, -272 )
start_raised = false

[node name="Platform2" parent="GameContent/Level3/Prefabs" instance=ExtResource( 4 )]
position = Vector2( 288, -368 )

[node name="Enemy1" parent="GameContent/Level3/Prefabs" instance=ExtResource( 8 )]
position = Vector2( 272, -384 )

[node name="Platform3" parent="GameContent/Level3/Prefabs" instance=ExtResource( 4 )]
position = Vector2( 16, -208 )

[node name="Spike" parent="GameContent/Level3/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 96, -240 )
rotation = 1.57079

[node name="Spike2" parent="GameContent/Level3/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 16, -368 )

[node name="Spike3" parent="GameContent/Level3/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 40, -384 )

[node name="MonsterSpawner" parent="GameContent/Level3/Prefabs" instance=ExtResource( 9 )]
position = Vector2( 64, -416 )

[node name="Timer" type="Timer" parent="GameContent/Level3/Prefabs"]
wait_time = 5.0
autostart = true

[node name="Level4" type="Node2D" parent="GameContent"]

[node name="CameraDetector" type="Area2D" parent="GameContent/Level4"]
modulate = Color( 1, 1, 1, 0.32549 )
self_modulate = Color( 1, 1, 1, 0.0470588 )
position = Vector2( 664, -384 )
collision_layer = 0
collision_mask = 256
script = ExtResource( 5 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="GameContent/Level4/CameraDetector"]
shape = SubResource( 2 )

[node name="Prefabs" type="Node2D" parent="GameContent/Level4"]

[node name="Timer" type="Timer" parent="GameContent/Level4/Prefabs"]
wait_time = 1.5
autostart = true

[node name="MonsterSpawner" parent="GameContent/Level4/Prefabs" instance=ExtResource( 9 )]
position = Vector2( 400, -496 )
max_health = 9000

[node name="Spike" parent="GameContent/Level4/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 912, -288 )

[node name="Spike5" parent="GameContent/Level4/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 768, -352 )

[node name="Spike6" parent="GameContent/Level4/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 784, -352 )

[node name="Spike7" parent="GameContent/Level4/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 800, -352 )

[node name="Spike8" parent="GameContent/Level4/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 816, -352 )

[node name="Spike9" parent="GameContent/Level4/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 832, -352 )

[node name="Spike10" parent="GameContent/Level4/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 848, -352 )

[node name="Spike11" parent="GameContent/Level4/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 864, -352 )

[node name="Spike12" parent="GameContent/Level4/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 880, -352 )

[node name="Spike13" parent="GameContent/Level4/Prefabs" instance=ExtResource( 3 )]
position = Vector2( 896, -352 )

[node name="Player" type="Node2D" parent="GameContent"]

[node name="Checkpoints" type="Node2D" parent="GameContent/Player"]

[node name="ScoreBall" parent="GameContent/Player/Checkpoints" instance=ExtResource( 10 )]
position = Vector2( 48, -232 )

[node name="PlayerSpawner" parent="GameContent/Player" groups=[
"player_spawner",
] instance=ExtResource( 11 )]
position = Vector2( 176, -24 )
[connection signal="area_entered" from="GameContent/Level2/CameraDetector" to="GameContent/Level2/CameraDetector" method="_on_CameraDetector_area_entered"]
[connection signal="body_entered" from="GameContent/Level2/CameraDetector" to="GameContent/Level2/CameraDetector" method="_on_CameraDetector_body_entered"]
[connection signal="toggled_switch" from="GameContent/Level3/Prefabs/Switch" to="GameContent/Level3/Prefabs/Platform" method="toggle"]
[connection signal="toggled_switch" from="GameContent/Level3/Prefabs/Switch" to="GameContent/Level3/Prefabs/Platform2" method="toggle"]
[connection signal="timeout" from="GameContent/Level3/Prefabs/Timer" to="GameContent/Level3/Prefabs/MonsterSpawner" method="spawn_monster"]
[connection signal="area_entered" from="GameContent/Level4/CameraDetector" to="GameContent/Level4/CameraDetector" method="_on_CameraDetector_area_entered"]
[connection signal="body_entered" from="GameContent/Level4/CameraDetector" to="GameContent/Level4/CameraDetector" method="_on_CameraDetector_body_entered"]
[connection signal="timeout" from="GameContent/Level4/Prefabs/Timer" to="GameContent/Level4/Prefabs/MonsterSpawner" method="spawn_monster"]

[editable path="GameContent/Level1/CameraDetector"]
